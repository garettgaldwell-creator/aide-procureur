<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bureau du Procureur - √âtat du Tennessee</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="main-header">
        <div class="header-content">
            <div class="logo-section">
                <img src="logo.png" alt="Tennessee District Attorney - Davidson County" class="logo">
                <div class="header-text">
                    <h1>Assistant des peines</h1>
                    <p class="subtitle">Bureau du Procureur</p>
                </div>
            </div>
            <nav class="main-nav">
                <button class="nav-btn active" data-module="simulator">
                    <span class="icon">‚öñÔ∏è</span>
                    Simulateur de peines
                </button>
                <button class="nav-btn" data-module="codes">
                    <span class="icon">üìö</span>
                    Base juridique
                </button>
                <button class="nav-btn" data-module="procedures">
                    <span class="icon">üìã</span>
                    Proc√©dures
                </button>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        
        <!-- MODULE 1: SIMULATEUR DE PEINES -->
        <section id="simulator" class="module active">
            <div class="module-header">
                <h2>Simulateur de peines et d'infractions</h2>
                <p>S√©lectionnez les infractions reproch√©es pour calculer automatiquement les r√©quisitions</p>
            </div>

            <div class="simulator-container">
                <!-- Sidebar: S√©lection des infractions -->
                <div class="infractions-panel">
                    <div class="panel-header">
                        <h3>Infractions</h3>
                        <input type="text" id="search-infractions" placeholder="üîç Rechercher une infraction..." class="search-input">
                    </div>
                    
                    <div class="infractions-categories" id="infractions-list">
                        <!-- G√©n√©r√© dynamiquement par JS -->
                    </div>
                </div>

                <!-- Main: Calculs et r√©sultats -->
                <div class="results-panel">
                    <div class="selected-infractions" id="selected-infractions">
                        <h3>Infractions retenues</h3>
                        <div id="selected-list" class="infraction-tags">
                            <p class="empty-state">Aucune infraction s√©lectionn√©e</p>
                        </div>
                    </div>

                    <!-- Modificateurs -->
                    <div class="modifiers-section">
                        <h3>Modificateurs de peine</h3>
                        <div class="modifiers-grid">
                            <label class="modifier-checkbox">
                                <input type="checkbox" id="recidive-1">
                                <span>R√©cidive (1√®re) - √ó2</span>
                            </label>
                            <label class="modifier-checkbox">
                                <input type="checkbox" id="recidive-2">
                                <span>R√©cidive (2√®me) - √ó3</span>
                            </label>
                            <label class="modifier-checkbox">
                                <input type="checkbox" id="mineur">
                                <span>Mineur (< 21 ans) - √∑2</span>
                            </label>
                            <label class="modifier-checkbox">
                                <input type="checkbox" id="cooperation">
                                <span>Coop√©ration - 25%</span>
                            </label>
                            <label class="modifier-checkbox">
                                <input type="checkbox" id="aveux">
                                <span>Aveux complets - 15%</span>
                            </label>
                            <label class="modifier-checkbox">
                                <input type="checkbox" id="trouble-psy">
                                <span>Trouble psychique - 33%</span>
                            </label>
                        </div>
                    </div>

                    <!-- R√©sultats -->
                    <div class="calculation-results">
                        <h3>R√©quisitions calcul√©es</h3>
                        
                        <div class="results-grid">
                            <div class="result-card">
                                <div class="result-label">Temps de prison</div>
                                <div class="result-value" id="prison-time">0 ans</div>
                                <div class="result-rp" id="prison-rp">(0 minutes RP)</div>
                            </div>

                            <div class="result-card">
                                <div class="result-label">Amendes</div>
                                <div class="result-value" id="fines">0 $</div>
                            </div>

                            <div class="result-card">
                                <div class="result-label">Cat√©gorie</div>
                                <div class="result-value" id="category">-</div>
                            </div>

                            <div class="result-card crpc-card" id="crpc-card" style="display: none;">
                                <div class="result-label">CRPC Possible ‚úì</div>
                                <div class="result-value" id="crpc-prison">0 ans</div>
                                <div class="result-rp" id="crpc-rp">(0 minutes RP)</div>
                                <div class="crpc-note">R√©duction maximale de 50%</div>
                            </div>
                        </div>

                        <div class="action-buttons">
                            <button class="btn-primary" id="export-pdf">
                                üìÑ Exporter les r√©quisitions
                            </button>
                            <button class="btn-secondary" id="reset-all">
                                üîÑ R√©initialiser
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- MODULE 2: BASE JURIDIQUE -->
        <section id="codes" class="module">
            <div class="module-header">
                <h2>Base juridique interactive</h2>
                <p>Consultation des codes et articles de loi</p>
            </div>

            <div class="codes-container">
                <div class="codes-sidebar">
                    <h3>Codes disponibles</h3>
                    <nav class="codes-nav">
                        <button class="code-btn active" data-code="penal">Code P√©nal</button>
                        <button class="code-btn" data-code="procedure-penale">Code de Proc√©dure P√©nale</button>
                        <button class="code-btn" data-code="civil">Code Civil</button>
                        <button class="code-btn" data-code="procedure-civile">Code de Proc√©dure Civile</button>
                        <button class="code-btn" data-code="commerce">Code du Commerce</button>
                        <button class="code-btn" data-code="route">Code de la Route</button>
                        <button class="code-btn" data-code="constitution">Constitution du Tennessee</button>
                        <button class="code-btn" data-code="jurisprudence">Jurisprudence</button>
                    </nav>
                </div>

                <div class="codes-content">
                    <div class="codes-search">
                        <input type="text" id="search-codes" placeholder="üîç Rechercher un article, mot-cl√©..." class="search-input">
                    </div>
                    <div id="code-display" class="code-display">
                        <!-- Contenu du code s√©lectionn√© -->
                    </div>
                </div>
            </div>
        </section>

        <!-- MODULE 3: PROC√âDURES -->
        <section id="procedures" class="module">
            <div class="module-header">
                <h2>Fiches proc√©durales</h2>
                <p>Guides et checklists pour les proc√©dures courantes</p>
            </div>

            <div class="procedures-grid">
                <div class="procedure-card" data-procedure="gav">
                    <h3>üëÆ Garde √† vue</h3>
                    <p>Dur√©e, droits, notifications</p>
                </div>
                <div class="procedure-card" data-procedure="perquisition">
                    <h3>üîç Perquisition</h3>
                    <p>Mandats, conditions, ex√©cution</p>
                </div>
                <div class="procedure-card" data-procedure="mandat">
                    <h3>üìú Mandats</h3>
                    <p>Arrestation, perquisition, types</p>
                </div>
                <div class="procedure-card" data-procedure="audience">
                    <h3>‚öñÔ∏è Audiences</h3>
                    <p>Comparution, proc√®s, appel</p>
                </div>
                <div class="procedure-card" data-procedure="crpc">
                    <h3>ü§ù CRPC</h3>
                    <p>Plaider-coupable, conditions</p>
                </div>
                <div class="procedure-card" data-procedure="miranda">
                    <h3>üì¢ Droits Miranda</h3>
                    <p>Notification, texte l√©gal</p>
                </div>
            </div>

            <div id="procedure-detail" class="procedure-detail" style="display: none;">
                <!-- Contenu de la proc√©dure s√©lectionn√©e -->
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="main-footer">
        <p>Bureau du Procureur - Davidson County | Assistant des peines v1.0</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="data.js"></script>
    <script src="app.js"></script>
</body>
</html>
